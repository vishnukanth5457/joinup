{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":80},"end":{"line":2,"column":69,"index":149}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":151},"end":{"line":3,"column":26,"index":177}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":39,"index":218}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"C:\\\\Users\\\\vishnukanth\\\\OneDrive\\\\\\u6587\\u6863\\\\GitHub\\\\joinup\\\\frontend\\\\context\\\\AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"useApi\", {\n    enumerable: true,\n    get: function () {\n      return useApi;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  const useApi = () => {\n    const {\n      token\n    } = useAuth();\n    const api = axios.default.create({\n      baseURL: `${API_URL}/api`,\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {}\n    });\n    return api;\n  };\n});","lineCount":138,"map":[[13,2,30,0,"Object"],[13,8,30,0],[13,9,30,0,"defineProperty"],[13,23,30,0],[13,24,30,0,"exports"],[13,31,30,0],[14,4,30,0,"enumerable"],[14,14,30,0],[15,4,30,0,"get"],[15,7,30,0],[15,18,30,0,"get"],[15,19,30,0],[16,6,30,0],[16,13,30,0,"AuthProvider"],[16,25,30,0],[17,4,30,0],[18,2,30,0],[19,2,104,0,"Object"],[19,8,104,0],[19,9,104,0,"defineProperty"],[19,23,104,0],[19,24,104,0,"exports"],[19,31,104,0],[20,4,104,0,"enumerable"],[20,14,104,0],[21,4,104,0,"get"],[21,7,104,0],[21,18,104,0,"get"],[21,19,104,0],[22,6,104,0],[22,13,104,0,"useAuth"],[22,20,104,0],[23,4,104,0],[24,2,104,0],[25,2,112,0,"Object"],[25,8,112,0],[25,9,112,0,"defineProperty"],[25,23,112,0],[25,24,112,0,"exports"],[25,31,112,0],[26,4,112,0,"enumerable"],[26,14,112,0],[27,4,112,0,"get"],[27,7,112,0],[27,18,112,0,"get"],[27,19,112,0],[28,6,112,0],[28,13,112,0,"useApi"],[28,19,112,0],[29,4,112,0],[30,2,112,0],[31,2,1,0],[31,6,1,0,"_react"],[31,12,1,0],[31,15,1,0,"require"],[31,22,1,0],[31,23,1,0,"_dependencyMap"],[31,37,1,0],[32,2,2,0],[32,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[32,42,2,0],[32,45,2,0,"require"],[32,52,2,0],[32,53,2,0,"_dependencyMap"],[32,67,2,0],[33,2,2,0],[33,6,2,0,"AsyncStorage"],[33,18,2,0],[33,21,2,0,"_interopDefault"],[33,36,2,0],[33,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[33,73,2,0],[34,2,3,0],[34,6,3,0,"_axios"],[34,12,3,0],[34,15,3,0,"require"],[34,22,3,0],[34,23,3,0,"_dependencyMap"],[34,37,3,0],[35,2,3,0],[35,6,3,0,"axios"],[35,11,3,0],[35,14,3,0,"_interopDefault"],[35,29,3,0],[35,30,3,0,"_axios"],[35,36,3,0],[36,2,4,0],[36,6,4,0,"_expoConstants"],[36,20,4,0],[36,23,4,0,"require"],[36,30,4,0],[36,31,4,0,"_dependencyMap"],[36,45,4,0],[37,2,4,0],[37,6,4,0,"Constants"],[37,15,4,0],[37,18,4,0,"_interopDefault"],[37,33,4,0],[37,34,4,0,"_expoConstants"],[37,48,4,0],[38,2,4,39],[38,6,4,39,"_reactJsxDevRuntime"],[38,25,4,39],[38,28,4,39,"require"],[38,35,4,39],[38,36,4,39,"_dependencyMap"],[38,50,4,39],[39,2,6,0],[39,8,6,6,"API_URL"],[39,15,6,13],[39,18,6,16,"Constants"],[39,27,6,25],[39,28,6,25,"default"],[39,35,6,25],[39,36,6,26,"expoConfig"],[39,46,6,36],[39,48,6,38,"extra"],[39,53,6,43],[39,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[39,78,6,68],[39,82,6,72,"process"],[39,89,6,79],[39,90,6,80,"env"],[39,93,6,83],[39,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[39,117,6,107],[40,2,28,0],[40,8,28,6,"AuthContext"],[40,19,28,17],[40,35,28,20],[40,39,28,20,"createContext"],[40,45,28,33],[40,46,28,33,"createContext"],[40,59,28,33],[40,61,28,63,"undefined"],[40,70,28,72],[40,71,28,73],[41,2,30,7],[41,8,30,13,"AuthProvider"],[41,20,30,66],[41,23,30,69,"AuthProvider"],[41,24,30,70],[42,4,30,72,"children"],[43,2,30,81],[43,3,30,82],[43,8,30,87],[44,4,31,2],[44,10,31,8],[44,11,31,9,"user"],[44,15,31,13],[44,17,31,15,"setUser"],[44,24,31,22],[44,25,31,23],[44,28,31,26],[44,32,31,26,"useState"],[44,38,31,34],[44,39,31,34,"useState"],[44,47,31,34],[44,49,31,48],[44,53,31,52],[44,54,31,53],[45,4,32,2],[45,10,32,8],[45,11,32,9,"token"],[45,16,32,14],[45,18,32,16,"setToken"],[45,26,32,24],[45,27,32,25],[45,30,32,28],[45,34,32,28,"useState"],[45,40,32,36],[45,41,32,36,"useState"],[45,49,32,36],[45,51,32,52],[45,55,32,56],[45,56,32,57],[46,4,33,2],[46,10,33,8],[46,11,33,9,"loading"],[46,18,33,16],[46,20,33,18,"setLoading"],[46,30,33,28],[46,31,33,29],[46,34,33,32],[46,38,33,32,"useState"],[46,44,33,40],[46,45,33,40,"useState"],[46,53,33,40],[46,55,33,41],[46,59,33,45],[46,60,33,46],[47,4,35,2],[47,8,35,2,"useEffect"],[47,14,35,11],[47,15,35,11,"useEffect"],[47,24,35,11],[47,26,35,12],[47,32,35,18],[48,6,36,4,"loadStoredAuth"],[48,20,36,18],[48,21,36,19],[48,22,36,20],[49,4,37,2],[49,5,37,3],[49,7,37,5],[49,9,37,7],[49,10,37,8],[50,4,39,2],[50,10,39,8,"loadStoredAuth"],[50,24,39,22],[50,27,39,25],[50,33,39,25,"loadStoredAuth"],[50,34,39,25],[50,39,39,37],[51,6,40,4],[51,10,40,8],[52,8,41,6],[52,14,41,12,"storedToken"],[52,25,41,23],[52,28,41,26],[52,34,41,32,"AsyncStorage"],[52,46,41,44],[52,47,41,44,"default"],[52,54,41,44],[52,55,41,45,"getItem"],[52,62,41,52],[52,63,41,53],[52,70,41,60],[52,71,41,61],[53,8,42,6],[53,14,42,12,"storedUser"],[53,24,42,22],[53,27,42,25],[53,33,42,31,"AsyncStorage"],[53,45,42,43],[53,46,42,43,"default"],[53,53,42,43],[53,54,42,44,"getItem"],[53,61,42,51],[53,62,42,52],[53,68,42,58],[53,69,42,59],[54,8,44,6],[54,12,44,10,"storedToken"],[54,23,44,21],[54,27,44,25,"storedUser"],[54,37,44,35],[54,39,44,37],[55,10,45,8,"setToken"],[55,18,45,16],[55,19,45,17,"storedToken"],[55,30,45,28],[55,31,45,29],[56,10,46,8,"setUser"],[56,17,46,15],[56,18,46,16,"JSON"],[56,22,46,20],[56,23,46,21,"parse"],[56,28,46,26],[56,29,46,27,"storedUser"],[56,39,46,37],[56,40,46,38],[56,41,46,39],[57,8,47,6],[58,6,48,4],[58,7,48,5],[58,8,48,6],[58,15,48,13,"error"],[58,20,48,18],[58,22,48,20],[59,8,49,6,"console"],[59,15,49,13],[59,16,49,14,"error"],[59,21,49,19],[59,22,49,20],[59,50,49,48],[59,52,49,50,"error"],[59,57,49,55],[59,58,49,56],[60,6,50,4],[60,7,50,5],[60,16,50,14],[61,8,51,6,"setLoading"],[61,18,51,16],[61,19,51,17],[61,24,51,22],[61,25,51,23],[62,6,52,4],[63,4,53,2],[63,5,53,3],[64,4,55,2],[64,10,55,8,"login"],[64,15,55,13],[64,18,55,16],[64,24,55,16,"login"],[64,25,55,23,"email"],[64,30,55,36],[64,32,55,38,"password"],[64,40,55,54],[64,45,55,59],[65,6,56,4],[65,10,56,8],[66,8,57,6],[66,14,57,12,"response"],[66,22,57,20],[66,25,57,23],[66,31,57,29,"axios"],[66,36,57,34],[66,37,57,34,"default"],[66,44,57,34],[66,45,57,35,"post"],[66,49,57,39],[66,50,57,40],[66,53,57,43,"API_URL"],[66,60,57,50],[66,77,57,67],[66,79,57,69],[67,10,58,8,"email"],[67,15,58,13],[68,10,59,8,"password"],[69,8,60,6],[69,9,60,7],[69,10,60,8],[70,8,62,6],[70,14,62,12],[71,10,62,14,"access_token"],[71,22,62,26],[72,10,62,28,"user"],[72,14,62,32],[72,16,62,34,"userData"],[73,8,62,43],[73,9,62,44],[73,12,62,47,"response"],[73,20,62,55],[73,21,62,56,"data"],[73,25,62,60],[74,8,64,6],[74,14,64,12,"AsyncStorage"],[74,26,64,24],[74,27,64,24,"default"],[74,34,64,24],[74,35,64,25,"setItem"],[74,42,64,32],[74,43,64,33],[74,50,64,40],[74,52,64,42,"access_token"],[74,64,64,54],[74,65,64,55],[75,8,65,6],[75,14,65,12,"AsyncStorage"],[75,26,65,24],[75,27,65,24,"default"],[75,34,65,24],[75,35,65,25,"setItem"],[75,42,65,32],[75,43,65,33],[75,49,65,39],[75,51,65,41,"JSON"],[75,55,65,45],[75,56,65,46,"stringify"],[75,65,65,55],[75,66,65,56,"userData"],[75,74,65,64],[75,75,65,65],[75,76,65,66],[76,8,67,6,"setToken"],[76,16,67,14],[76,17,67,15,"access_token"],[76,29,67,27],[76,30,67,28],[77,8,68,6,"setUser"],[77,15,68,13],[77,16,68,14,"userData"],[77,24,68,22],[77,25,68,23],[78,6,69,4],[78,7,69,5],[78,8,69,6],[78,15,69,13,"error"],[78,20,69,23],[78,22,69,25],[79,8,70,6],[79,14,70,12],[79,18,70,16,"Error"],[79,23,70,21],[79,24,70,22,"error"],[79,29,70,27],[79,30,70,28,"response"],[79,38,70,36],[79,40,70,38,"data"],[79,44,70,42],[79,46,70,44,"detail"],[79,52,70,50],[79,56,70,54],[79,70,70,68],[79,71,70,69],[80,6,71,4],[81,4,72,2],[81,5,72,3],[82,4,74,2],[82,10,74,8,"register"],[82,18,74,16],[82,21,74,19],[82,27,74,26,"data"],[82,31,74,35],[82,35,74,40],[83,6,75,4],[83,10,75,8],[84,8,76,6],[84,14,76,12,"response"],[84,22,76,20],[84,25,76,23],[84,31,76,29,"axios"],[84,36,76,34],[84,37,76,34,"default"],[84,44,76,34],[84,45,76,35,"post"],[84,49,76,39],[84,50,76,40],[84,53,76,43,"API_URL"],[84,60,76,50],[84,80,76,70],[84,82,76,72,"data"],[84,86,76,76],[84,87,76,77],[85,8,78,6],[85,14,78,12],[86,10,78,14,"access_token"],[86,22,78,26],[87,10,78,28,"user"],[87,14,78,32],[87,16,78,34,"userData"],[88,8,78,43],[88,9,78,44],[88,12,78,47,"response"],[88,20,78,55],[88,21,78,56,"data"],[88,25,78,60],[89,8,80,6],[89,14,80,12,"AsyncStorage"],[89,26,80,24],[89,27,80,24,"default"],[89,34,80,24],[89,35,80,25,"setItem"],[89,42,80,32],[89,43,80,33],[89,50,80,40],[89,52,80,42,"access_token"],[89,64,80,54],[89,65,80,55],[90,8,81,6],[90,14,81,12,"AsyncStorage"],[90,26,81,24],[90,27,81,24,"default"],[90,34,81,24],[90,35,81,25,"setItem"],[90,42,81,32],[90,43,81,33],[90,49,81,39],[90,51,81,41,"JSON"],[90,55,81,45],[90,56,81,46,"stringify"],[90,65,81,55],[90,66,81,56,"userData"],[90,74,81,64],[90,75,81,65],[90,76,81,66],[91,8,83,6,"setToken"],[91,16,83,14],[91,17,83,15,"access_token"],[91,29,83,27],[91,30,83,28],[92,8,84,6,"setUser"],[92,15,84,13],[92,16,84,14,"userData"],[92,24,84,22],[92,25,84,23],[93,6,85,4],[93,7,85,5],[93,8,85,6],[93,15,85,13,"error"],[93,20,85,23],[93,22,85,25],[94,8,86,6],[94,14,86,12],[94,18,86,16,"Error"],[94,23,86,21],[94,24,86,22,"error"],[94,29,86,27],[94,30,86,28,"response"],[94,38,86,36],[94,40,86,38,"data"],[94,44,86,42],[94,46,86,44,"detail"],[94,52,86,50],[94,56,86,54],[94,77,86,75],[94,78,86,76],[95,6,87,4],[96,4,88,2],[96,5,88,3],[97,4,90,2],[97,10,90,8,"logout"],[97,16,90,14],[97,19,90,17],[97,25,90,17,"logout"],[97,26,90,17],[97,31,90,29],[98,6,91,4],[98,12,91,10,"AsyncStorage"],[98,24,91,22],[98,25,91,22,"default"],[98,32,91,22],[98,33,91,23,"removeItem"],[98,43,91,33],[98,44,91,34],[98,51,91,41],[98,52,91,42],[99,6,92,4],[99,12,92,10,"AsyncStorage"],[99,24,92,22],[99,25,92,22,"default"],[99,32,92,22],[99,33,92,23,"removeItem"],[99,43,92,33],[99,44,92,34],[99,50,92,40],[99,51,92,41],[100,6,93,4,"setToken"],[100,14,93,12],[100,15,93,13],[100,19,93,17],[100,20,93,18],[101,6,94,4,"setUser"],[101,13,94,11],[101,14,94,12],[101,18,94,16],[101,19,94,17],[102,4,95,2],[102,5,95,3],[103,4,97,2],[103,24,98,4],[103,28,98,4,"_reactJsxDevRuntime"],[103,47,98,4],[103,48,98,4,"jsxDEV"],[103,54,98,4],[103,56,98,5,"AuthContext"],[103,67,98,16],[103,68,98,17,"Provider"],[103,76,98,25],[104,6,98,26,"value"],[104,11,98,31],[104,13,98,33],[105,8,98,35,"user"],[105,12,98,39],[106,8,98,41,"token"],[106,13,98,46],[107,8,98,48,"loading"],[107,15,98,55],[108,8,98,57,"login"],[108,13,98,62],[109,8,98,64,"register"],[109,16,98,72],[110,8,98,74,"logout"],[111,6,98,81],[111,7,98,83],[112,6,98,83,"children"],[112,14,98,83],[112,16,99,7,"children"],[113,4,99,15],[114,6,99,15,"fileName"],[114,14,99,15],[114,16,99,15,"_jsxFileName"],[114,28,99,15],[115,6,99,15,"lineNumber"],[115,16,99,15],[116,6,99,15,"columnNumber"],[116,18,99,15],[117,4,99,15],[117,11,100,26],[117,12,100,27],[118,2,102,0],[118,3,102,1],[119,2,104,7],[119,8,104,13,"useAuth"],[119,15,104,20],[119,18,104,23,"useAuth"],[119,19,104,23],[119,24,104,29],[120,4,105,2],[120,10,105,8,"context"],[120,17,105,15],[120,20,105,18],[120,24,105,18,"useContext"],[120,30,105,28],[120,31,105,28,"useContext"],[120,41,105,28],[120,43,105,29,"AuthContext"],[120,54,105,40],[120,55,105,41],[121,4,106,2],[121,8,106,6,"context"],[121,15,106,13],[121,20,106,18,"undefined"],[121,29,106,27],[121,31,106,29],[122,6,107,4],[122,12,107,10],[122,16,107,14,"Error"],[122,21,107,19],[122,22,107,20],[122,67,107,65],[122,68,107,66],[123,4,108,2],[124,4,109,2],[124,11,109,9,"context"],[124,18,109,16],[125,2,110,0],[125,3,110,1],[126,2,112,7],[126,8,112,13,"useApi"],[126,14,112,19],[126,17,112,22,"useApi"],[126,18,112,22],[126,23,112,28],[127,4,113,2],[127,10,113,8],[128,6,113,10,"token"],[129,4,113,16],[129,5,113,17],[129,8,113,20,"useAuth"],[129,15,113,27],[129,16,113,28],[129,17,113,29],[130,4,115,2],[130,10,115,8,"api"],[130,13,115,11],[130,16,115,14,"axios"],[130,21,115,19],[130,22,115,19,"default"],[130,29,115,19],[130,30,115,20,"create"],[130,36,115,26],[130,37,115,27],[131,6,116,4,"baseURL"],[131,13,116,11],[131,15,116,13],[131,18,116,16,"API_URL"],[131,25,116,23],[131,31,116,29],[132,6,117,4,"headers"],[132,13,117,11],[132,15,117,13,"token"],[132,20,117,18],[132,23,117,21],[133,8,117,23,"Authorization"],[133,21,117,36],[133,23,117,38],[133,33,117,48,"token"],[133,38,117,53],[134,6,117,56],[134,7,117,57],[134,10,117,60],[134,11,117,61],[135,4,118,2],[135,5,118,3],[135,6,118,4],[136,4,120,2],[136,11,120,9,"api"],[136,14,120,12],[137,2,121,0],[137,3,121,1],[138,0,121,2],[138,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth","useApi"],"mappings":"AAA;qEC6B;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJc;iBKE;GLK;CDO;uBOE;CPM;sBQE;CRS"},"hasCjsExports":false},"type":"js/module"}]}